<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Work on 知乎</title>
    <link>http://localhost:1313/tags/work/</link>
    <description>Recent content in Work on 知乎</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <lastBuildDate>Thu, 24 Mar 2022 21:55:00 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/work/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>阿里云日志平台使用</title>
      <link>http://localhost:1313/Use-of-Alibaba-Cloud-Logging-Platform.html</link>
      <pubDate>Thu, 24 Mar 2022 21:55:00 +0800</pubDate>
      <guid>http://localhost:1313/Use-of-Alibaba-Cloud-Logging-Platform.html</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;💡  根据 遗忘曲线：如果没有记录和回顾，6天后便会忘记75%的内容&#xD;&#xA;      读书笔记正是帮助你记录和回顾的工具，不必拘泥于形式，其核心是：记录、翻看、思考&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;1关键点说明&#34;&gt;1、关键点说明&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;模糊匹配支持*，但是不支持前模糊匹配&lt;/li&gt;&#xA;&lt;li&gt;not 表示非&lt;/li&gt;&#xA;&lt;li&gt;可以支持多文档匹配，但是需要注意转义&lt;/li&gt;&#xA;&lt;li&gt;| 后面写的的类似sql&lt;/li&gt;&#xA;&lt;li&gt;SELECT json_extract(json, &amp;lsquo;$.store.book&amp;rsquo;);  从一个JSON对象中提取值&lt;/li&gt;&#xA;&lt;li&gt;json_parse(string)  把字符串转化成JSON类型&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;2关键日志查询&#34;&gt;2、关键日志查询&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;关键函数 &lt;a href=&#34;https://help.aliyun.com/document_detail/86661.html?spm=a2c4g.11186623.6.835.4b1a209bfdsjdD&#34;&gt;https://help.aliyun.com/document_detail/86661.html?spm=a2c4g.11186623.6.835.4b1a209bfdsjdD&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;json函数 &lt;a href=&#34;https://help.aliyun.com/document_detail/63454.html?spm=a2c4g.11186623.6.822.3675209bNQeXZE&#34;&gt;https://help.aliyun.com/document_detail/63454.html?spm=a2c4g.11186623.6.822.3675209bNQeXZE&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;环比函数 &lt;a href=&#34;https://help.aliyun.com/document_detail/86661.html?spm=a2c4g.11186623.6.845.2d1522fddGPrnq&#34;&gt;https://help.aliyun.com/document_detail/86661.html?spm=a2c4g.11186623.6.845.2d1522fddGPrnq&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;3提取日志中的某一个字段&#34;&gt;3、提取日志中的某一个字段&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ListenAccountIdRefreshedEvent.message&amp;#34; and ProjectName: smlvpc | select DISTINCT regexp_extract(Content, &amp;#39;,&amp;#34;ouid&amp;#34;:&amp;#34;(\S+)&amp;#34;,&amp;#34;uuid&amp;#34;:&amp;#39;, 1)&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;4阶段统计&#34;&gt;4、阶段统计&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;div style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&#xA;&lt;table style=&#34;border-spacing:0;padding:0;margin:0;border:0;&#34;&gt;&lt;tr&gt;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 1&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 2&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 3&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 4&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 5&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 6&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 7&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 8&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt; 9&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;10&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;11&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;12&#xA;&lt;/span&gt;&lt;span style=&#34;white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f&#34;&gt;13&#xA;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&#xA;&lt;td style=&#34;vertical-align:top;padding:0;margin:0;border:0;;width:100%&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-plain&#34; data-lang=&#34;plain&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;* and url: createFlowOneStep and status=200 | select&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  k,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  v&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;from(&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    select&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      map(array [0.5,0.9,0.99,0.999], p) as m&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    from(&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        select&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          approx_percentile(duration, array [0.5,0.9,0.99,0.999]) as p&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         FROM log&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      )&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ),&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  unnest(m) as t(k, v)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;</description>
    </item>
  </channel>
</rss>
